Bootstrap: docker
From: centos:7

%runscript
    /app/bin/baysor --help

%post
    # Download Baysor
    yum install -y unzip

    mkdir /app
    cd /app

    curl -O -L https://github.com/kharchenkolab/Baysor/releases/download/v0.6.2/baysor-x86_x64-linux-v0.6.2_build.zip
    unzip baysor-x86_x64-linux-v0.6.2_build.zip
    mv bin unzip
    mv unzip/baysor/* .
    rm -rf unzip
    rm baysor-x86_x64-linux-v0.6.2_build.zip

%test
    # Small test
    /app/bin/baysor --help

%environment
    export PATH=$PATH:/app/bin


%labels
    Version v0.6.2
    URL: https://github.com/kharchenkolab/Baysor

%help
    Run Baysor in a container
    ---------------------------
    Use with apptainer run baysor.sif
    Or apptainer exec baysor.sif baysor run --help
    Create with apptainer build baysor.sif baysor.default
    Test with apptainer run-test baysor.sif
    Inspect with apptainer inspect baysor.sif
    See help with apptainer run-help baysor.sif
